# Описание проекта

Приложение, в котором пользователи могут писать посты и комментировать их.

## Требования
- Python 3.12.6
- Django 5.1.2
- DRF 3.15.2
- PostgreSQL 17
- 
- Python 3.8+
- Django 3+
- DRF 3.10+
- PostgreSQL 10+

# Установка

## 3. создать базу данных соответствующую POSTGRES_DB=<имя вашей базы данных> и выполнить python3 manage.py migrate
## 4. при необходимости загрузить тестовые данные в БД python3 manage.py loaddata data/testdata.json


## Установка

1. Склонируйте репозиторий:
    ```bash
    git clone 
    ```

2. Перейдите в директорию проекта:
    ```bash
    cd blogoshere
    ```

3. Активируйте Poetry и установите зависимости с помощью Poetry:
    ```bash
    poetry shell
    poetry install
    ```

4. Скопируйте .env.sample в .env и настройте переменные окружения в файле .env.
    ```bash
    cp .env.sample .env
    ```

5. Войдите в Postrges, 
   cоздайте базу данных соответствующую POSTGRES_DB=<имя вашей базы данных>, (например blogoshere) 
   ```bash
    createdb -h localhost -U postgres blogosphere
   ```
  

6. выполните миграции базы данных:
    ```bash
    poetry run python manage.py migrate
    ```

6. Создайте суперпользователя для доступа к админке:
    ```bash
    poetry run python manage.py createsuperuser
    ```
   или же можете воспользоваться командой `csu`, обязательно указав в файле .env ADMIN_PASSWORD:
    ```bash
    poetry run python manage.py csu
    ```

7. Запустите сервер:
    ```bash
    poetry run python manage.py runserver
    ```
8. При необходимости загрузите тестовые данные из папки data:
    ```bash
    poetry run python manage.py loaddata data/testdata.json
    ```

   
## Документация API
Автогенерируемая документация доступна по следующим URL:
- Swagger: http://localhost:8000/docs/
- ReDoc: http://localhost:8000/redoc/



==============================================================================================================

# Задание
Ваша задача — разработать приложение, в котором пользователи могут писать посты и комментировать их.

Создайте модели и соответствующие точки API для взаимодействия с ними.

Технические требования:
Python 3.8+
Django 3+
DRF 3.10+
PostgreSQL 10+



Структура приложения

# Задача 1
# МОДЕЛИ

 

## Модель пользователя

логин
пароль
номер
дата рождения
дата создания
дата редактирования


## Модель поста

заголовок
текст
изображение (если есть)
автор
комментарии
дата создания
дата редактирования



## Модель комментария

автор
текст
дата создания
дата редактирования
 

Примечание: связи между моделями определите самостоятельно.

# Задача 2
## ЭНДПОИНТЫ

Реализуйте CRUD для каждой модели.

## Пользователь:

CREATE: все пользователи (регистрация).
READ: администратор/авторизованные пользователи.
UPDATE: администратор/пользователь может редактировать только себя./
DELETE: администратор.
## Пост:

CREATE: авторизованные пользователи.
READ: все пользователи.
UPDATE: администратор/пользователь может редактировать только себя.
DELETE: администратор/пользователь может удалять свои посты.
## Комментарий:

CREATE: авторизованные пользователи.
READ: все пользователи.
UPDATE: администратор/пользователь может редактировать только себя.
DELETE: администратор/пользователь может удалять свои комментарии.
# Задача 3
## ВАЛИДАТОРЫ

## Модель пользователя

Реализуйте валидатор для пароля (должен быть не менее 8 символов, должен включать цифры).

Реализуйте валидатор для почты (разрешены домены: mail.ru, yandex.ru).

## Модель поста

Реализуйте проверку того, что автор поста достиг возраста 18 лет.

Реализуйте проверку, что автор в заголовок не вписал запрещенные слова: ерунда, глупость, чепуха.

# Задача 4
## АДМИН. ПАНЕЛЬ

Добавьте в объекте поста ссылку на автора.

Добавьте фильтр по дате создания поста.

# Критерии приемки
Все три модели описаны.
Все эндпоинты реализованы.
Все описанные валидации настроены.
Админка настроена.
Описанные права доступа заложены в проект.
Решение выложено на github.com.

